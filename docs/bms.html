<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html" charset="UTF-8" http-equiv="content-type">
        <title>BmsMaker3</title>
        <link rel="shortcut icon" href="favicon.ico">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div class="content">
            <div class="stack">
                <h1>BMSモード</h1>
                <p>
                    BMSファイル(<span class="script">.bms .bme .bml .pms .pme</span>)を閲覧・編集するためのウィンドウです。
                </p>
                <ul>
                    <li>
                        <a href="http://ucn.tokonats.net/software/bmse/" target="_blank">BMSE</a>に近い操作感の、より高機能なBMSエディターです。
                    </li>
                    <li>
                        <b>ほぼ任意の分解能</b>に対応しています。
                        <ul>
                            <li>
                                BmsMaker3では、読み込んだBMSのノート位置や小節長などの情報は全て<b>分数形式</b>で保持します。
                            </li>
                            <li>
                                移動の最小単位となる「分解能」は指定する必要があるものの、その分解能の値は事実上無制限となっています。
                            </li>
                            <li>
                                <b>29分音符</b>や<b>7分音符と13分音符のポリリズム</b>などといったエキセントリックな配置も可能です。
                            </li>
                        </ul>
                    </li>
                    <li>
                        ほとんどのメタデータを、GUIを通して設定可能です。
                        <ul>
                            <li>
                                主流の本体で参照されるほとんどの<a href="bms_header.html">ヘッダー</a>
                            </li>
                            <li>
                                <a href="bms_definition.html">基本的な定義</a>リストの編集に加えて、<a href="bms_exDef.html">ほとんど使われないような特殊な定義リスト</a>も参照可能
                            </li>
                            <li>
                                譜面エディタ上に表示できない「非対応チャンネル」に存在するノーツも<a href="bms_hidden.html">一覧で確認可能</a>
                            </li>
                            <li>
                                問題のあるノートが存在する場合は<a href="bms_problem.html">一覧で確認可能</a>
                            </li>
                            <li>
                                <span class="script">#RANDOM</span>などの制御構造に<a href="bms_flow.html">正式に対応</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        BMS制作を補助する様々な<b>機能</b>が付属しています。
                        <ul>
                            <li>
                                <b><a href="bms_info.html">情報</a></b>: キーごとのノート数や演奏時間を分析する
                            </li>
                            <li>
                                <b><a href="bms_selection.html">選択機能</a></b>: ノートをまとめて選択したり一括で変更したりする
                            </li>
                            <li>
                                <b><a href="bms_keySort.html">キーの整列</a></b>: ファイル名ごとに定義をグループ化し、グループごとにBMSレーンに整列する
                            </li>
                            <li>
                                <b><a href="bms_sequential.html">連続配置</a></b>: ぶつ切り音声などをその音声の長さに応じた間隔で自動配置できる
                            </li>
                            <li>
                                <b><a href="bms_slice.html">スライス</a></b>: 1つの<span class="script">.wav</span>音声を複数の定義に分割し、その分割間隔に従って配置できる
                            </li>
                            <li>
                                <b><a href="bms_reduct.html">定義の削減</a></b>: 同じ内容の<span class="script">.wav</span>ファイルが複数あるかを検出し、それらの重複を取り除く
                            </li>
                            <li>
                                <b><a href="bms_defSort.html">定義の整列</a></b>: 未使用の定義の削除、定義リストの空欄の圧縮、定義<b>基数</b>の変更など
                            </li>
                            <li>
                                <b><a href="bms_multiDef.html">多重定義</a></b>: 同じ音声が連続して鳴らされる場合に、定義を多重化することでノイズを防ぐ
                            </li>
                            <li>
                                <b><a href="bms_assemble.html">アセンブル</a></b>: 「スライス」とは逆に、複数のノートを1つの<span class="script">.wav</span>音声に統合し、必要に応じて置換を行う
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="stack">
                <h2>説明</h2>
                要素をクリックすると説明セクションに飛びます。
                <div class="image-map" src="img/window_bms.png" style="max-width: 640px;" maps="
                       1, 31,1009,  67, #tab, link;
                       1, 99, 804, 662, #main, link;
                     809, 99, 202, 662, #rightPane, link;
                "></div>
            </div>
            <div class="stack" id="tab">
                <div class="common" src="common/tabArea.html"></div>
                要素をクリックすると説明が表示されます。
                <div style="display: grid; row-gap: 12px;">
                    <div class="image-map" src="img/window_bms_tab_file.png" maps="
                          1,  0, 25, 21, common/undo.html;
                         26,  0, 25, 21, common/redo.html;
                          1, 22, 71, 45, common/file_new.html;
                         71, 22, 83, 45, common/file_open.html;
                        154, 22, 96, 45, common/file_save.html;
                        250, 22,137, 45, common/file_saveAs.html;
                        392, 22, 70, 45, bms/func_merge.html;
                        462, 22,104, 45, bms/func_diffCheck.html;
                        566, 22, 93, 45, bms/func_readme.html;
                        664, 22,112, 45, bms/preview_setting.html;
                        776, 22, 96, 45, bms/theme_setting.html;
                    "></div>
                    <div class="image-map" src="img/window_bms_tab_edit.png" maps="
                          1,  0, 25, 21, common/undo.html;
                         26,  0, 25, 21, common/redo.html;
                          1, 22, 75, 45, bms/ascend.html;
                         81, 22, 91, 45, bms/edit_move.html;
                        172, 22, 60, 45, bms/edit_add.html;
                        237, 22, 78, 45, bms/cut.html;
                        316, 22, 66, 45, bms/copy.html;
                        382, 22, 79, 45, bms/paste.html;
                        461, 22, 60, 45, bms/delete.html;
                        526, 22, 86, 45, bms/mirror.html;
                        612, 22, 97, 45, bms/place_copy.html;
                        714, 22,154, 45, bms/preview_select.html;
                        868, 22, 81, 45, bms/preview_all.html;
                        949, 22,105, 45, bms/preview_resume.html;
                        1054, 22,112, 45, bms/preview_setting.html;
                    "></div>
                    <div class="image-map" src="img/window_bms_tab_view.png" maps="
                          1,  0, 25, 21, common/undo.html;
                         26,  0, 25, 21, common/redo.html;
                          1, 22,108, 45, bms/playByClick.html;
                        114, 22,129, 23, bms/lane_conductor.html;
                        114, 45,129, 22, bms/lane_bga.html;
                        243, 22,137, 23, bms/lane_key.html;
                        243, 45,137, 22, bms/lane_scratch.html;
                        380, 22,102, 45, bms/lane_bgm.html;
                        487, 22, 92, 45, bms/grid_quantize.html;
                        579, 22, 73, 45, bms/grid_small.html;
                        652, 22, 73, 45, bms/grid_large.html;
                        730, 22,122, 45, bms/scale_y.html;
                        852, 22,106, 45, bms/scale_x.html;
                        963, 22, 92, 45, bms/scrollbar.html;
                    "></div>
                    <div class="image-map" src="img/window_bms_tab_function.png" maps="
                          1,  0, 25, 21, common/undo.html;
                         26,  0, 25, 21, common/redo.html;
                          1, 22, 68, 45, bms/func_info.html;
                         74, 22, 94, 45, bms/func_selection.html;
                        168, 22, 97, 45, bms/func_keySort.html;
                        270, 22, 94, 45, bms/func_sequential.html;
                        364, 22, 80, 45, bms/func_slice.html;
                        449, 22,104, 45, bms/func_reduct.html;
                        553, 22,105, 45, bms/func_defSort.html;
                        658, 22, 95, 45, bms/func_multiDef.html;
                        758, 22, 92, 45, bms/func_assemble.html;
                        850, 22,115, 45, bms/func_render.html;
                    "></div>
                    <div id="tab_terminal" src="img/window_bms_tab_terminal.png"></div>
                </div>
            </div>
            <div class="stack" id="main">
                <h2>譜面表示エリア</h2>
                <ul>
                    <li>
                        配置されているノートを視覚的に確認・編集するエリアです。
                    </li>
                </ul>
                要素をクリックすると説明が表示されます。
                <div class="image-map" src="img/window_bms_main.png" maps="
                      0,  0, 963, 14, bms/area_header.html;
                      6, 14, 145,226, bms/area_conductor.html, center;
                    156, 14,  73,226, bms/area_meta.html, center;
                    234, 14, 193,226, bms/area_key.html, center;
                    432, 14, 266,226, bms/area_bgm.html, center;
                    698,  0,  17,240, bms/area_scrollbar.html, center;
                    715, 14, 246,226, bms/area_mirror.html, center;
                "></div>
                <div>
                    <h3>マウスによる操作</h3>
                    <ul>
                        <li>
                            <b>ホイール</b>: スクロールと拡大率変更に使います。
                            <ul>
                                <li>
                                    <span class="script">Shift</span>を押している場合は<b>水平方向</b>にスクロールします。
                                </li>
                                <li>
                                    <span class="script">Ctrl</span>を押している場合は<b>縦スケール</b>を変更します。
                                </li>
                                <li>
                                    <span class="script">Ctrl+Shift</span>を押している場合は<b>横スケール</b>を変更します。
                                </li>
                                <li>
                                    ホイールボタンを押したままマウスを動かすと、その方向へ高速でスクロールします。
                                </li>
                            </ul>
                        </li>
                        <li>
                            <b>左クリック</b>: 選択とノートの配置に使います。
                            <ul>
                                <li>
                                    挙動は<b>編集モード</b>によって異なります。
                                    <ul>
                                        <li>
                                            <details>
                                                <summary>選択/移動モード</summary>
                                                <div class="common" src="bms/edit_move_core.html"></div>
                                                <div class="common" src="bms/edit_move_move.html"></div>
                                            </details>
                                        </li>
                                        <li>
                                            <details>
                                                <summary>追加モード</summary>
                                                <div class="common" src="bms/edit_add_core.html"></div>
                                            </details>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    音声ファイルの定義されたノートをクリックで選択または配置した際、「クリックで再生」が有効な場合は、その音声ファイルの波形をそのノートの上に表示します。<br>
                                    <img src="img/window_bms_main_wave.png"/>
                                    <ul>
                                        <li>
                                            次のノートやロングノート終端の配置位置の参考にしてください。
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <b>右クリック</b>: スクロールとコンテキストメニューに使います。
                            <ul>
                                <li>
                                    <b>右ドラッグ</b>によって縦横にスクロールします。
                                </li>
                                <li>
                                    右クリックの後、マウスを動かさずにボタンを離すとコンテキストメニューが開きます。<br>
                                    <img src="img/window_bms_contextmenu.png">
                                </li>
                                <li>
                                    <b>このノート</b>: ノートを右クリックしてメニューを開いた場合に選択可能となる項目です。
                                    <div class="left-panel">
                                        <img src="img/window_bms_contextmenu_note.png">
                                        <ul>
                                            <li>
                                                1行目には、クリックされたノートの詳細が表示されます。
                                            </li>
                                            <li>
                                                <b>指揮者レーン以外</b>のノートを右クリックした場合、そのノートの定義番号が<b>対応する定義リストにて選択されます</b>。
                                            </li>
                                            <li>
                                                <img src="img/icons/Edit.png" class="icon16"><b>編集</b>: <a href="bms_noteEdit.html">ノート編集ウィンドウ</a>を開きます。
                                            </li>
                                            <li>
                                                <img src="img/icons/Delete.png" class="icon16"><b>削除</b>: このノートを削除します。
                                            </li>
                                            <li>
                                                <img src="img/icons/Wave_Slice.png" class="icon16"><b>スライス</b>: このノートに定義されている音声ファイルを対象として、<a href="bms_slice.html">スライスウィンドウ</a>を開きます。
                                            </li>
                                            <li>
                                                <img src="img/icons/HorizontalAlign_Stretch.png" class="icon16"><b>小節線を追加</b>: このノートの位置に小節線を追加し、この小節を2つに分割します。
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <br>
                                <li>
                                    <b>この小節</b>: 右クリックした小節に関するメニューです。
                                    <div class="left-panel">
                                        <img src="img/window_bms_contextmenu_bar.png">
                                        <ul>
                                            <li>
                                                1行目には、クリックされた小節の番号が表示されます。
                                            </li>
                                            <li>
                                                <img src="img/icons/Selection.png" class="icon16"><b>全て選択</b>: この小節に含まれる全てのノートを選択状態にし、それ以外の選択状態を解除します。
                                            </li>
                                            <li>
                                                <img src="img/icons/Edit.png" class="icon16"><b>編集</b>: <a href="bms_barEdit.html">小節長編集ウィンドウ</a>を開きます。
                                            </li>
                                            <li>
                                                <img src="img/icons/Split.png" class="icon16"><b>分割</b>: <a href="bms_barSplit.html">小節分割ウィンドウ</a>を開きます。
                                            </li>
                                            <li>
                                                <img src="img/icons/Upload.png" class="icon16"><b>挿入</b>: この小節の<b>直前</b>に、長さ<span class="script">1</span>の小節を挿入します。
                                            </li>
                                            <li>
                                                <img src="img/icons/Download.png" class="icon16"><b>削除</b>: この小節を削除し、以降にある全てのオブジェクトの位置を、この小節の長さぶん手前に移動します。
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <br>
                                <li>
                                    <b>選択範囲</b>: 選択範囲に関するメニューです。
                                    <div class="left-panel">
                                        <img src="img/window_bms_contextmenu_selection.png">
                                        <ul>
                                            <li>
                                                <img src="img/icons/Selection.png" class="icon16"><b>全て選択</b>: この譜面に含まれる<b>全てのノート</b>を選択状態にします。
                                            </li>
                                            <li>
                                                <img src="img/icons/Selection.png" class="icon16"><b>選択機能</b>: <a href="bms_selection.html">選択機能ウィンドウ</a>を開きます。
                                            </li>
                                            <li>
                                                <img src="img/icons/RightLeft.png" class="icon16"><b>左右反転</b>: 選択範囲に含まれる音声レーン(演奏レーン+BGMレーン)のノートの配置を左右反転します。
                                            </li>
                                            <li>
                                                <img src="img/icons/Paste_Mono.png" class="icon16"><b>配置のコピー</b>: 選択範囲に含まれる音声レーンのノートを、<b>クリップボード上のノート配置</b>に合わせて移動します。
                                            </li>
                                            <li>
                                                <img src="img/icons/Wave.png" class="icon16"><b>アセンブル</b>: <a href="bms_assemble.html">アセンブルウィンドウ</a>を開きます。
                                            </li>
                                            <li>
                                                <img src="img/icons/Cut.png" class="icon16"><b>切り取り</b>: 選択中のノートをクリップボードにコピーし、譜面から削除します。
                                            </li>
                                            <li>
                                                <img src="img/icons/Copy.png" class="icon16"><b>コピー</b>: 選択中のノートをクリップボードにコピーします。
                                            </li>
                                            <li>
                                                <img src="img/icons/Paste.png" class="icon16"><b>貼り付け</b>: クリップボードにコピーされているノーツを譜面に追加します。
                                                <ul>
                                                    <li>
                                                        貼り付ける際、縦方向の位置は譜面上の位置に基づきますが、<span class="script">Ctrl+Alt+V</span>で貼り付けた場合は<b>秒数基準</b>になります。
                                                    </li>
                                                </ul>
                                            </li>
                                            <li>
                                                <img src="img/icons/Copy.png" class="icon16"><b>複製</b>: 選択中のノートをクリップボードにコピー<b>せず</b>、直接その場に追加します。
                                            </li>
                                            <li>
                                                <img src="img/icons/Delete.png" class="icon16"><b>削除</b>: 選択中のノートを譜面から削除します。
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div id="quick_place">
                    <h3>キーボードによる操作</h3>
                    <ul>
                        <li>
                            カーソルキー<span class="script">←↓↑→</span>を押すと、スクロールまたはノートの移動ができます。
                            <ul>
                                <li>
                                    <span class="script">Shift</span>を押している場合は選択中のノートを移動します。
                                    <ul>
                                        <li>
                                            <span class="script">Ctrl</span>を押している間、上下の移動は<b>大グリッド</b>単位になります。
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <span class="script">Shift</span>を<b>押していない</b>場合はスクロールします。
                                    <ul>
                                        <li>
                                            <span class="script">Ctrl</span>を押している間、上下の移動は<b>1小節</b>単位になります。
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    いずれの場合も、左右の移動は<b>レーン単位</b>で行われます。
                                </li>
                                <li>
                                    いずれの場合も、<span class="script">Ctrl</span>を<b>押していない</b>場合、上下の移動は<b>小グリッド</b>単位になります。
                                </li>
                            </ul>
                        </li>
                        <li>
                            それ以外のキーを押すと、設定に応じて<b>クイック配置</b>を行います。 (<a href="https://www.youtube.com/watch?v=zjxbJinmsOI" target="_blank">動画による説明</a>)
                            <ul>
                                <li>
                                    <b>画面内に</b>選択中の<b>BGMノート</b>がある状態で、演奏レーンに対応するキーを押すと、選択中のBGMノートが順にそのレーンに配置されます。
                                </li>
                                <li>
                                    この機能を利用するには、<a href="bms_theme.html">BMSモード/テーマ設定</a>で<b>演奏レーンに対応キーを設定する</b>必要があります。
                                </li>
                                <li>
                                    数字キーの<span class="script">1</span>から<span class="script">0</span>を押した場合、それが演奏レーンで指定されていなければ、<b>選択中の演奏レーンのノート</b>が順に対応する<b>BGMレーン</b>に配置されます。
                                </li>
                                <li>
                                    <span class="script">Shift</span>キーを押している場合、<b>選択中の全てのノート</b>を対応するレーンに移動します。
                                    <ul>
                                        <li>
                                            この場合は<b>画面外のノートもまとめて移動されます</b>ので、意図せぬ移動にご注意ください。
                                        </li>
                                        <li>
                                            同じタイミングのノートが複数ある場合(同時押し)は<b>全てのノートが重なった状態になる</b>ためご注意ください。
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    Version 0.7.6 時点では、ゲームパッド(専用コントローラー)やMIDIキーボードには対応していません。要望が多ければ検討する可能性があります。
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="stack" id="rightPane">
                <h2>情報ペイン</h2>
                <ul>
                    <li>
                        編集中のBMSファイルの、ノート配置以外に関する情報を閲覧・編集するエリアです。
                    </li>
                    <li>
                        カテゴリごとに<b>エキスパンダー</b>によってまとめられています。
                        <ul>
                            <li>
                                エキスパンダーは<b>同時に2つまで</b>展開できます。
                            </li>
                            <li>
                                3つ目のエキスパンダーを展開しようとすると、最初に展開したほうが閉じます。
                            </li>
                        </ul>
                    </li>
                    <li>
                        タブがあるカテゴリは、タブヘッダーの上で<b>マウスホイール回転</b>によっても表示するタブを切り替えられます。
                    </li>
                </ul>
                要素をクリックすると説明ページに飛びます。
                <div class="image-map" src="img/bms_rightPane.png" maps="
                    4,  1,273,27, bms_header.html, link;
                    4, 29,273,27, bms_definition.html, link;
                    4, 57,273,27, bms_exDef.html, link;
                    4, 85,273,27, bms_hidden.html, link;
                    4,113,273,27, bms_problem.html, link;
                    4,141,273,27, bms_flow.html, link;">
                </div>
            </div>
        </div>
        <script type="text/javascript" src="script.js"></script>
    </body>
</html>
